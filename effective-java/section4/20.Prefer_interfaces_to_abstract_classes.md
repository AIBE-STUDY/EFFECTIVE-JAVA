# 20. μ¶”μƒ ν΄λμ¤λ³΄λ‹¤λ” μΈν„°νμ΄μ¤λ¥Ό μ°μ„ ν•λΌ

> λ‹¤μ¤‘ κµ¬ν„ μ‹ μΈν„°νμ΄μ¤λ¥Ό μ°μ„  μ‚¬μ©ν•μ\
> Skeletal Implementation(κ³¨κ²©κµ¬ν„ = μΈν„°νμ΄μ¤ + μ¶”μƒ ν΄λμ¤)λ¥Ό ν™μ©ν•μ—¬ κ³µν†µ λ¶€λ¶„μ„ λ§λ“¤μ

## π“ 1. λ°ν‘ μ „ μ•μ•„μ•Ό ν•  κ°λ…

### β… μΈν„°νμ΄μ¤

* ν΄λμ¤λ“¤μ΄ κµ¬ν„ν•΄μ•Ό ν•λ” λ™μ‘μ„ μ •μν•λ” μ¶”μƒ μλ£ν•
* `implements`λ¥Ό μ‚¬μ©ν•μ—¬ κµ¬ν„
* ν•„λ“λ” `public static final`
* Java 8 : default, static λ©”μ„λ“ ν¬ν•¨ κ°€λ¥
* Java 9 : private λ©”μ„λ“λ„ ν¬ν•¨ κ°€λ¥

### β… μ¶”μƒ ν΄λμ¤

* ν•λ‚ μ΄μƒμ μ¶”μƒ λ©”μ„λ“λ¥Ό ν¬ν•¨ν•λ” ν΄λμ¤
* μ¶”μƒ λ©”μ„λ“κ°€ μ—†μ–΄λ„ `abstract`λ΅ μ„ μ–Έ κ°€λ¥
* `extends`λ¥Ό μ‚¬μ©ν•μ—¬ μƒμ†ν•λ©°, μΌλ°μ μΌλ΅ μƒμ† κµ¬μ΅°μ—μ„ κ³µν†µ κΈ°λ¥μ„ κµ¬ν„ν•λ” κΈ°λ³Έ ν΄λμ¤λ΅ μ‚¬μ©ν•¨
* ν• ν΄λμ¤λ” ν•λ‚μ μ¶”μƒ ν΄λμ¤λ§ μƒμ† κ°€λ¥! (λ‹¨μΌ μƒμ†)

\


***

π”— μ „μ²΄ μμ  μ½”λ“ οΌ [\[Item19\] ν…μ¤νΈ μ½”λ“](https://github.com/s0ooo0k/STUDY-CODE/tree/main/src/item19)

## π“• 2. μ™ μΈν„°νμ΄μ¤λ¥Ό μ°μ„ ν•΄μ•Ό ν• κΉ?

### 2-1. κΈ°μ΅΄ ν΄λμ¤μ—μ„λ„ μ‰½κ² μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•  μ μλ‹¤

* (μΈν„°νμ΄μ¤) κΈ°μ΅΄ ν΄λμ¤λ¥Ό λ³€κ²½ν•μ§€ μ•κ³ λ„ μƒλ΅μ΄ κΈ°λ¥μ„ μ¶”κ°€ν•  μ μλ‹¤
* (μ¶”μƒν΄λμ¤) λ‹¤μ¤‘ μƒμ†μ΄ λ¶κ°€ν•κ³ , μ¬μ‚¬μ©μ΄ μ–΄λ µλ‹¤

```java
// κΈ°μ΅΄μ Car ν΄λμ¤
public class Car {
    private int speed=0;
    public final void drive() {
        System.out.println("driving");
        accelrate();
        System.out.println("speed is " + speed);
    }
    public int getSpeed() {
        return speed;
    }
}
```

λ§μ•½ λ‚΄κ°€ Carλ¥Ό μƒμ† λ°›λ” ElectricCarλ¥Ό λ§λ“¤κ³  Charge κΈ°λ¥μ„ μ¶”κ°€ν•κ³  μ‹¶λ‹¤λ©΄?

```java
// Electric interface
// μ „κΈ°μ°¨ μ¶©μ „ κΈ°λ¥μ„ μ¶”κ°€ν•κΈ° μ„ν• μΈν„°νμ΄μ¤
public interface Electric {
    void charge();
}

// Car ν΄λμ¤λ” μμ •ν•μ§€ μ•κ³ , Electric κΈ°λ¥μ„ μ¶”κ°€ν• ElectricCar μƒμ„±
public class ElectricCar extends Car implements Electric {
    @Override
    public void charge() {
        System.out.println("μ „κΈ°μ°¨κ°€ μ¶©μ „ μ¤‘μ…λ‹λ‹¤.");
    }
}
```

μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•μ—¬ κΈ°μ΅΄ ν΄λμ¤λ¥Ό μμ •ν•μ§€ μ•κ³  μƒλ΅μ΄ ν΄λμ¤λ¥Ό λ§λ“¤ μ μλ‹¤.\
λν• μ΄λ ‡κ² λ§λ“  μΈν„°νμ΄μ¤λ” λ‹¤λ¥Έ ν΄λμ¤μ—μ„λ„ μ μ© κ°€λ¥ν•λ‹¤.

## 2-2. Mixin(λ―Ήμ¤μΈ)μ— μΆ‹λ‹¤

* `Mixin` : μ£Ό κΈ°λ¥ μ™Έμ— μ„ νƒμ  κΈ°λ¥μ„ 'mixin(νΌν•©)'ν•  μ μκ² ν•΄μ£Όλ” νƒ€μ…
* (μΈν„°νμ΄μ¤) λ‹¤μ¤‘ κµ¬ν„μ΄ κ°€λ¥ν•κΈ° λ•λ¬Έμ— μ—¬λ¬ κΈ°λ¥ μ΅°ν•© κ°€λ¥
* (μ¶”μƒν΄λμ¤) λ‹¤μ¤‘ μƒμ† λ¶κ°€λ¥, λ―Ήμ¤μΈ ν¨ν„΄ μ‚¬μ© λ¶κ°€

```java
public interface Electric {
    void charge();
}

public interface SelfDrive {
    void autoPilot();
}
```

μΈν„°νμ΄μ¤λ΅ κΈ°λ¥μ„ κµ¬ν„ν•  κ²½μ°, λ‹¤μ¤‘ κµ¬ν„μ΄ κ°€λ¥ν•λ‹¤.

```java
// Electricκ³Ό SelfDrive λ¨λ‘ κΈ°λ¥ ν¬ν•¨ κ°€λ¥
public class TeslaCar extends Car implements Electric, SelfDrive{
    @Override
    public void charge() {
        System.out.println("Tesla car charge");
    }

    @Override
    public void autoPilot() {
        System.out.println("Tesla car autoPilot");
    }
}
```

mixinμ„ κµ¬ν„ν•λ”λ° κ°€μ¥ μ΄μƒμ μ΄λ‹¤!

## 2-3. κ³„μΈµ κµ¬μ΅°κ°€ μ—†λ” νƒ€μ… ν”„λ μ„μ›ν¬ μƒμ„± κ°€λ¥

* (μΈν„°νμ΄μ¤)κ°™μ€ κ³„μΈµ(λ λ²¨)μ λ‹¤μ–‘ν• νƒ€μ…μ„ μμ λ΅­κ² λ§λ“¤ μ μλ‹¤
* (μ¶”μƒν΄λμ¤) κ°•μ μ μΈ μƒμ† κµ¬μ΅°κ°€ μƒκ²¨ κ³„μΈµ κµ¬μ΅°κ°€ κ³ μ •λλ‹¤

```java
// Car μΈν„°νμ΄μ¤
public interface Car {
    void move();
}

public class TeslaCar implements Car {
    @Override
    public void move() {
        System.out.println("Tesla Car");
    }
}

public class PorscheCar implements Car {
    @Override
    public void move() {
        System.out.println("Prosche Car");
    }
}
```

## π¦΄ 3. Skeletal Implementation = μΈν„°νμ΄μ¤ + μ¶”μƒ ν΄λμ¤

### 3-1. Skeletal Implementation (κ³¨κ²© κµ¬ν„) π’¥

* μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•κ³ , μΈν„°νμ΄μ¤μ λ€λ¶€λ¶„ λ©”μ„λ“λ¥Ό κµ¬ν„ν• μ¶”μƒν΄λμ¤λ¥Ό μ κ³µν•λ” λ°©μ‹
* μΈν„°νμ΄μ¤λ¥Ό μ¶”μƒ ν΄λμ¤μ μ¥μ μΌλ΅ λ³΄μ™„
* `AbstractInterface`λ΅ μ΄λ¦„μ„ κµ¬ν„ν•λ” κ²ƒμ΄ μΌλ°μ μ΄λ‹¤
* μΈν„°νμ΄μ¤μ μ μ—°μ„± + μ¶”μƒ ν΄λμ¤μ μ½”λ“ μ¬μ‚¬μ©μ„±

### 3-2. Skeletal Implementationμ„ μ™ μ‚¬μ©ν• κΉ?

* Java8 μ΄μ „, μΈν„°νμ΄μ¤λ” λ‹¤μ¤‘ κµ¬ν„μ€ κ°€λ¥ν•μ§€λ§ λ©”μ„λ“ κµ¬ν„μ€ λ¶κ°€ν–λ‹¤
* λ¨λ“  κµ¬ν„μ„ ν•μ„ ν΄λμ¤μ—μ„ μ§μ ‘ ν•΄μ•Ό ν•κΈ° λ•λ¬Έμ— μ½”λ“μ μ¤‘λ³µ λ°μƒ
* Skeletal Implementation ν΄λμ¤λ¥Ό μ κ³µν•λ©΄μ„ μ¤‘λ³µ μ½”λ“λ¥Ό μ¤„μΌ μ μμ

\*\*\[ν™•μ¥] \*\* μλ°” 9λ¶€ν„°λ” μΈν„°νμ΄μ¤ λ‚΄μ— `private` λ©”μ„λ“ μ •μ, `default` λ©”μ„λ“μ—μ„ ν™μ©μ΄ κ°€λ¥ν•΄μ΅λ”λ°..?

1. μΈν„°νμ΄μ¤λ” ν•„λ“, μƒνƒλ¥Ό κ°€μ§ μ μ—†λ‹¤ `static final` μƒμλ§ μ„ μ–Έ κ°€λ¥ν•κ³ , μΈμ¤ν„΄μ¤ ν•„λ“λ¥Ό κ°€μ§ μ μ—†λ‹¤. λ³€μκ°€ ν•„μ”ν•λ‹¤λ©΄ μ¶”μƒ ν΄λμ¤κ°€ ν•„μ”!
2. μΈν„°νμ΄μ¤λ” μ—¬μ „ν μƒμ„±μλ¥Ό κ°€μ§ μ μ—†λ‹¤
3. skeletal Implementationμ„ ν†µν•΄ λ³µμ΅ν• κµ¬μ΅°μ—μ„ μ½”λ“ μ¬μ‚¬μ©μ„ λ” ν¨κ³Όμ μΌλ΅ κ΄€λ¦¬ν•  μ μλ‹¤.

### 3-3. Skeletol Implementationμ μμ‹

```java
// Car interface
public interface Car {
    void move();
    void alarm();
}

// Skeletal Implementation
// Skeletal Implementation
// Car μΈν„°νμ΄μ¤λ¥Ό λ³΄μ™„ν•λ” μ¶”μƒ ν΄λμ¤
public class AbstractCar implements Car {
    // κ³µν†µ κΈ°λ¥μ— λ€ν• κΈ°λ³Έ κµ¬ν„ μ κ³µ
    @Override
    public void move() {
        System.out.println("AbstractCar move");
    }

    @Override
    public void alarm() {
        System.out.println("AbstractCar alarm");
    }
}

// HyundaiCar Class
public class HyundaiCar extends AbstractCar {
    // ν•„μ”ν• κΈ°λ¥λ§ μ¤λ²„λΌμ΄λ”© κ°€λ¥
    @Override
    public void alarm() {
        System.out.println("Hyundai alarm");
    }
}

// CarMain
public class CarMain {
    public static void main(String[] args) {
        Car suv = new HyundaiCar();

        //
        suv.move();
        suv.alarm();
    }
}
```

```shell
AbstractCar move
Hyundai alarm
```

1. Interface Car : κµ¬ν„ν•΄μ•Όν•  λ©”μ„λ“ μ •μ
2. AbstractCar μ¶”μƒ ν΄λμ¤ : Car μΈν„°νμ΄μ¤ κµ¬ν„ λ° κ³µν†µ κΈ°λ¥ κΈ°λ³Έ κµ¬ν„ β΅οΈ Interfaceλ¥Ό κµ¬ν„ν•λ” λ‹¤λ¥Έ ν΄λμ¤μ—μ„ ν•„μ”ν• κΈ°λ¥λ§ overridng ν•λ©΄ λ¨
3. HyundaiCar κµ¬μ²΄ ν΄λμ¤ : AbstractCarλ¥Ό μƒμ†λ°›μ•„ ν•„μ”ν• λ©”μ„λ“λ§ μ¤λ²„λΌμ΄λ“

* κ³¨κ²© κµ¬ν„μ€ ν…ν”λ¦Ώ λ©”μ„λ“ ν¨ν„΄μ ν™•μ¥λ κ°λ…!
* Skeletal Implementationλ„ μƒμ†μ„ κ°€μ •ν•λ―€λ΅, λ¬Έμ„ν™”λ¥Ό ν•΄μ•Ό ν•λ‹¤.

***

## π’¨ ν–¥ν›„ ν™•μ¥ ν¬μΈνΈ

* Collection ν”„λ μ„μ›ν¬μ AbstractColletionμ— λ€ν•΄ μ•μ•„λ³΄μ

## π¤– μµμΆ… κ²°λ΅ 

> μΈν„°νμ΄μ¤λ¥Ό λ¨Όμ € μ‚¬μ©ν•κ³ , κ³µν†µ κΈ°λ¥μ΄ ν•„μ”ν•λ©΄ Skeletal Implementationμ„ ν™μ©ν•μ!

***

## β—μ–΄λ ¤μ› λ μ 

* Skeletal Implementationκ³Ό μ¶”μƒ λ©”μ„λ“, μΈν„°νμ΄μ¤μ κ°λ…μ΄ κ²Ήμ³ νΌλ™λμ—λ‹¤.

***

## π¶β€π«οΈ λλ‚€μ 

* μΈν„°νμ΄μ¤λ¥Ό μ ν™μ©ν•΄ ν™•μ¥μ„±κ³Ό μ¬μ‚¬μ©μ„±μ„ λ†’μ—¬μ•Όκ² λ‹¤λ” μƒκ°μ΄ λ“¤μ—λ‹¤.
* μ½”λ“λ¥Ό μ„¤κ³„ν•  λ• ν•­μƒ ν–¥ν›„ μ μ§€λ³΄μλ¥Ό μ¤‘μ”ν•κ² κ³ λ ¤ν•΄μ•Ό ν•λ©°, ν™•μ¥μ„±μ„ λ†’μ΄λ” λ°©ν–¥μΌλ΅ κµ¬ν„ν•΄μ•Ό ν•λ‹¤.
