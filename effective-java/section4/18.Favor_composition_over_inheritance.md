# ğŸ“˜ ì´í™í‹°ë¸Œ ìë°” ìŠ¤í„°ë””

## ğŸ“ ì•„ì´í…œ 18: ìƒì†ë³´ë‹¤ëŠ” ì»´í¬ì§€ì…˜ì„ ì‚¬ìš©í•˜ë¼

### ğŸ”¹ ìš”ì•½

âœ… ìƒì†ì€ ì½”ë“œë¥¼ ì¬ì‚¬ìš©í•˜ëŠ” ê°•ë ¥í•œ ë°©ë²•ì´ì§€ë§Œ í•­ìƒ ìµœì„ ì˜ ë„êµ¬ëŠ” ì•„ë‹˜  
âœ… ìƒì†ì€ ìº¡ìŠí™”ë¥¼ ê¹¨ëœ¨ë¦¬ê³  ìƒìœ„ í´ë˜ìŠ¤ì— ì¢…ì†ì ì´ê²Œ ë§Œë“¦  
âœ… ì»´í¬ì§€ì…˜ì€ ê¸°ì¡´ í´ë˜ìŠ¤ê°€ ìƒˆë¡œìš´ í´ë˜ìŠ¤ì˜ êµ¬ì„±ìš”ì†Œë¡œ ì“°ì´ëŠ”, ë” ì•ˆì „í•œ ë°©ë²•  
âœ… ë˜í¼ í´ë˜ìŠ¤ì™€ ë°ì½”ë ˆì´í„° íŒ¨í„´ì„ í™œìš©í•œ ì»´í¬ì§€ì…˜ ë°©ì‹ì´ ê¶Œì¥ë¨  
âœ… ìƒì†ì€ "is-a" ê´€ê³„ê°€ í™•ì‹¤í•  ë•Œë§Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•¨

### ğŸ”¹ ì£¼ì˜ì‚¬í•­

ğŸ“Œ **ìƒìœ„ í´ë˜ìŠ¤ì™€ í•˜ìœ„ í´ë˜ìŠ¤ê°€ ìˆœìˆ˜í•œ is-a ê´€ê³„ì¼ ë•Œë§Œ ìƒì†ì„ ì‚¬ìš©í•˜ë¼**  
ğŸ“Œ **ìƒìœ„ í´ë˜ìŠ¤ê°€ í™•ì¥ì„ ê³ ë ¤í•´ ì„¤ê³„ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ìƒì†ë³´ë‹¤ ì»´í¬ì§€ì…˜ì„ ì‚¬ìš©í•˜ë¼**  
ğŸ“Œ **íŒ¨í‚¤ì§€ ê²½ê³„ë¥¼ ë„˜ëŠ” ìƒì†, íŠ¹íˆ ë‹¤ë¥¸ ê°œë°œìê°€ ì‘ì„±í•œ í´ë˜ìŠ¤ ìƒì†ì— ì£¼ì˜í•˜ë¼**

---

### ğŸ“š ì¶”ê°€ ê°œë…

ğŸ’¡ **ìƒì†(Inheritance)ê³¼ ì»´í¬ì§€ì…˜(Composition)ì˜ ë¹„êµ**

 <p align="center">
   <img src="https://github.com/user-attachments/assets/e93f3bf5-5a32-4c1d-9225-7a117a2f810f" width="300" alt="ìƒì†ê³¼ ì»´í¬ì§€ì…˜ ë¹„êµ" />
 </p>

- **ìƒì†(Inheritance)**ì€ í´ë˜ìŠ¤ ê°„ì— "is-a" ê´€ê³„ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ, í•˜ìœ„ í´ë˜ìŠ¤ê°€ ìƒìœ„ í´ë˜ìŠ¤ì˜ íŠ¹ì„±ê³¼ ë™ì‘ì„ ë¬¼ë ¤ë°›ìŠµë‹ˆë‹¤.
- **ì»´í¬ì§€ì…˜(Composition)**ì€ í´ë˜ìŠ¤ ê°„ì— "has-a" ê´€ê³„ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ, í•œ í´ë˜ìŠ¤ê°€ ë‹¤ë¥¸ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í¬í•¨í•˜ì—¬ ê·¸ ê¸°ëŠ¥ì„ í™œìš©í•©ë‹ˆë‹¤.

#### ğŸ”‘ **ìƒì†ì˜ ë¬¸ì œì **

1. **ìº¡ìŠí™” ìœ„ë°˜**: ìƒìœ„ í´ë˜ìŠ¤ì˜ êµ¬í˜„ì´ ë³€ê²½ë˜ë©´ í•˜ìœ„ í´ë˜ìŠ¤ê°€ ì˜í–¥ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
2. **ì·¨ì•½í•œ ê¸°ë°˜ í´ë˜ìŠ¤ ë¬¸ì œ**: ìƒìœ„ í´ë˜ìŠ¤ì˜ ë³€ê²½ì´ í•˜ìœ„ í´ë˜ìŠ¤ì˜ ë™ì‘ì— ì˜ˆìƒì¹˜ ëª»í•œ ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
3. **ë©”ì„œë“œ ì¬ì •ì˜ì˜ ìœ„í—˜**: í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ì¬ì •ì˜í•œ ë©”ì„œë“œê°€ ìƒìœ„ í´ë˜ìŠ¤ì˜ ë‚´ë¶€ ë™ì‘ê³¼ ì¶©ëŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
4. **ì œì•½ëœ ìœ ì—°ì„±**: ìƒì†ì€ ì»´íŒŒì¼ íƒ€ì„ì— ê²°ì •ë˜ì–´ ëŸ°íƒ€ì„ì— ë³€ê²½í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

#### ğŸ’¡ **ë˜í¼ í´ë˜ìŠ¤(Wrapper Class)ì™€ ë°ì½”ë ˆì´í„° íŒ¨í„´(Decorator Pattern)**

- **ë˜í¼ í´ë˜ìŠ¤**ëŠ” ë‹¤ë¥¸ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°ì‹¸ê³ (wrap) ê·¸ ê¸°ëŠ¥ì„ í™•ì¥í•˜ëŠ” í´ë˜ìŠ¤ì…ë‹ˆë‹¤.
- **ë°ì½”ë ˆì´í„° íŒ¨í„´**ì€ ê°ì²´ì— ì¶”ê°€ ì±…ì„ì„ ë™ì ìœ¼ë¡œ ì¶”ê°€í•˜ëŠ” íŒ¨í„´ìœ¼ë¡œ, ë˜í¼ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„ë©ë‹ˆë‹¤.
- ì´ ë°©ì‹ì€ ê¸°ì¡´ í´ë˜ìŠ¤ì˜ ê¸°ëŠ¥ì„ ìˆ˜ì •í•˜ì§€ ì•Šê³  í™•ì¥í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.

#### ğŸ’¡ **ì „ë‹¬(Forwarding)ê³¼ ìœ„ì„(Delegation)**

- **ì „ë‹¬(Forwarding)**ì€ ë˜í¼ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œê°€ ë‚´ë¶€ ê°ì²´ì˜ í•´ë‹¹ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê¸°ë²•ì…ë‹ˆë‹¤.
- **ìœ„ì„(Delegation)**ì€ ë” ë„“ì€ ê°œë…ìœ¼ë¡œ, ê°ì²´ê°€ íŠ¹ì • ì‘ì—…ì„ ë‹¤ë¥¸ ê°ì²´ì—ê²Œ ìœ„ì„í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
- ì»´í¬ì§€ì…˜ê³¼ ì „ë‹¬ì„ ì¡°í•©í•˜ë©´ ìƒì†ì˜ ë‹¨ì ì„ í”¼í•˜ë©´ì„œ ê¸°ëŠ¥ì„ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

### ğŸ¯ ì¤‘ìš”í•œ ì 

ğŸ”¹ ìƒì†ì€ ì½”ë“œ ì¬ì‚¬ìš©ë³´ë‹¤ëŠ” íƒ€ì… ê³„ì¸µì„ í‘œí˜„í•  ë•Œ ì í•©í•¨  
ğŸ”¹ ì»´í¬ì§€ì…˜ì€ ê¸°ì¡´ í´ë˜ìŠ¤ë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³  ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŒ  
ğŸ”¹ ìƒìœ„ í´ë˜ìŠ¤ê°€ ìì£¼ ë³€ê²½ë˜ëŠ” í™˜ê²½ì—ì„œëŠ” ìƒì†ë³´ë‹¤ ì»´í¬ì§€ì…˜ì´ ì•ˆì „í•¨  
ğŸ”¹ ë˜í¼ í´ë˜ìŠ¤ì˜ ë‹¨ì ì€ ì½œë°±(callback) í”„ë ˆì„ì›Œí¬ì™€ëŠ” ì–´ìš¸ë¦¬ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì 

---

### ğŸ’¡ ì½”ë“œ ì˜ˆì œ ë° ì„¤ëª…

```mermaid
flowchart TD
    A["InstrumentedHashSet<br>extends HashSet<E>"] --> B["HashSet<E>"]

    C["InstrumentedSet<E>"] --> D["Set<E> (interface)"]
    C --> E["Set<E> s (composition)"]
    E --> F["HashSet, TreeSet, etc"]

    style A fill:#FFD2D2,stroke:#FF9999,stroke-width:2px
    style B fill:#D2D2FF,stroke:#9999FF,stroke-width:2px
    style C fill:#D2FFD2,stroke:#99FF99,stroke-width:2px
    style D fill:#D2D2FF,stroke:#9999FF,stroke-width:2px
    style E fill:#D2D2FF,stroke:#9999FF,stroke-width:2px
    style F fill:#D2D2FF,stroke:#9999FF,stroke-width:2px
```

#### âŒ ìƒì†ì„ ì˜ëª» ì‚¬ìš©í•œ ì˜ˆì œ (ë¬¸ì œ ë°œìƒ)

```java
// HashSetì„ ìƒì†ë°›ì•„ ì¶”ê°€ëœ ì›ì†Œ ê°œìˆ˜ë¥¼ ê³„ì‚°í•˜ëŠ” í´ë˜ìŠ¤
public class InstrumentedHashSet<E> extends HashSet<E> {
    // ì¶”ê°€ëœ ì›ì†Œì˜ ìˆ˜
    private int addCount = 0;

    public InstrumentedHashSet() {}

    public InstrumentedHashSet(int initCap, float loadFactor) {
        super(initCap, loadFactor);
    }

    @Override
    public boolean add(E e) {
        addCount++;
        return super.add(e);
    }

    @Override
    public boolean addAll(Collection<? extends E> c) {
        addCount += c.size();
        return super.addAll(c);  // âŒ ë¬¸ì œ ë°œìƒ! ë‚´ë¶€ì ìœ¼ë¡œ add()ë¥¼ í˜¸ì¶œí•¨
    }

    public int getAddCount() {
        return addCount;
    }
}

// ì‚¬ìš© ì˜ˆì‹œ
InstrumentedHashSet<String> s = new InstrumentedHashSet<>();
s.addAll(List.of("ê°€", "ë‚˜", "ë‹¤"));  // addCountê°€ ì˜ˆìƒê³¼ ë‹¤ë¥´ê²Œ 6ì´ ë¨ (ì›ì†Œ 3ê°œê°€ ì¤‘ë³µ ì¹´ìš´íŠ¸)
```

#### âœ… ì»´í¬ì§€ì…˜ì„ ì‚¬ìš©í•œ ê°œì„ ëœ ì˜ˆì œ

```java
// ì»´í¬ì§€ì…˜ì„ ì‚¬ìš©í•œ ë˜í¼ í´ë˜ìŠ¤
public class InstrumentedSet<E> implements Set<E> {
    // ì‹¤ì œ êµ¬í˜„ì„ ìœ„ì„í•  Set ì¸ìŠ¤í„´ìŠ¤
    private final Set<E> s;
    // ì¶”ê°€ëœ ì›ì†Œì˜ ìˆ˜
    private int addCount = 0;

    public InstrumentedSet(Set<E> s) {
        this.s = Objects.requireNonNull(s);
    }

    @Override
    public boolean add(E e) {
        addCount++;
        return s.add(e);
    }

    @Override
    public boolean addAll(Collection<? extends E> c) {
        addCount += c.size();
        return s.addAll(c);
    }

    public int getAddCount() {
        return addCount;
    }

    // ë‚˜ë¨¸ì§€ Set ë©”ì„œë“œëŠ” sì— ìœ„ì„
    @Override public int size() { return s.size(); }
    @Override public boolean isEmpty() { return s.isEmpty(); }
    @Override public boolean contains(Object o) { return s.contains(o); }
    @Override public Iterator<E> iterator() { return s.iterator(); }
    @Override public Object[] toArray() { return s.toArray(); }
    @Override public <T> T[] toArray(T[] a) { return s.toArray(a); }
    @Override public boolean remove(Object o) { return s.remove(o); }
    @Override public boolean containsAll(Collection<?> c) { return s.containsAll(c); }
    @Override public boolean removeAll(Collection<?> c) { return s.removeAll(c); }
    @Override public boolean retainAll(Collection<?> c) { return s.retainAll(c); }
    @Override public void clear() { s.clear(); }
    @Override public boolean equals(Object o) { return s.equals(o); }
    @Override public int hashCode() { return s.hashCode(); }
    @Override public String toString() { return s.toString(); }
}

// ì‚¬ìš© ì˜ˆì‹œ - ìœ ì—°í•œ í™œìš©
Set<String> hashSet = new InstrumentedSet<>(new HashSet<>());
Set<String> treeSet = new InstrumentedSet<>(new TreeSet<>());
```

#### âœ… ì»´í¬ì§€ì…˜ê³¼ ì „ë‹¬ì„ ìœ„í•œ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì „ë‹¬ í´ë˜ìŠ¤

```java
// ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì „ë‹¬ í´ë˜ìŠ¤
public class ForwardingSet<E> implements Set<E> {
    private final Set<E> s;

    public ForwardingSet(Set<E> s) {
        this.s = Objects.requireNonNull(s);
    }

    // Setì˜ ë©”ì„œë“œë¥¼ ì „ë‹¬í•˜ëŠ” ê¸°ëŠ¥
    @Override public int size() { return s.size(); }
    @Override public boolean isEmpty() { return s.isEmpty(); }
    @Override public boolean contains(Object o) { return s.contains(o); }
    @Override public Iterator<E> iterator() { return s.iterator(); }
    @Override public Object[] toArray() { return s.toArray(); }
    @Override public <T> T[] toArray(T[] a) { return s.toArray(a); }
    @Override public boolean add(E e) { return s.add(e); }
    @Override public boolean remove(Object o) { return s.remove(o); }
    @Override public boolean containsAll(Collection<?> c) { return s.containsAll(c); }
    @Override public boolean addAll(Collection<? extends E> c) { return s.addAll(c); }
    @Override public boolean removeAll(Collection<?> c) { return s.removeAll(c); }
    @Override public boolean retainAll(Collection<?> c) { return s.retainAll(c); }
    @Override public void clear() { s.clear(); }
    @Override public boolean equals(Object o) { return s.equals(o); }
    @Override public int hashCode() { return s.hashCode(); }
    @Override public String toString() { return s.toString(); }
}

// ë˜í¼ í´ë˜ìŠ¤ë¥¼ ê°„ì†Œí™”í•œ êµ¬í˜„
public class InstrumentedSet<E> extends ForwardingSet<E> {
    private int addCount = 0;

    public InstrumentedSet(Set<E> s) {
        super(s);
    }

    @Override
    public boolean add(E e) {
        addCount++;
        return super.add(e);
    }

    @Override
    public boolean addAll(Collection<? extends E> c) {
        addCount += c.size();
        return super.addAll(c);
    }

    public int getAddCount() {
        return addCount;
    }
}
```

---

### â— ì–´ë ¤ì› ë˜ ì 

âš ï¸ ìƒì†ê³¼ ì»´í¬ì§€ì…˜ ì¤‘ ì–´ë–¤ ê²ƒì´ ì í•©í•œì§€ íŒë‹¨í•˜ëŠ” ê¸°ì¤€ì´ ì²˜ìŒì—ëŠ” ëª…í™•í•˜ì§€ ì•Šì•˜ìŒ

â¡ï¸ is-a ê´€ê³„ëŠ” ìƒì†, has-a ê´€ê³„ëŠ” ì»´í¬ì§€ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ëŠ” ì ì„ ì´í•´í•¨. ë˜í•œ ìƒìœ„ í´ë˜ìŠ¤ì˜ êµ¬í˜„ì´ ìì£¼ ë³€ê²½ë˜ê±°ë‚˜ í™•ì¥ì„ ê³ ë ¤í•´ ì„¤ê³„ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ì»´í¬ì§€ì…˜ì´ ë” ì•ˆì „í•˜ë‹¤ëŠ” ê²ƒì„ ì•Œê²Œ ë¨

âš ï¸ ì¸í„°í˜ì´ìŠ¤ì˜ ëª¨ë“  ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ëŠ” ì „ë‹¬ í´ë˜ìŠ¤ ì‘ì„±ì´ ë²ˆê±°ë¡œì› ìŒ

â¡ï¸ ì „ë‹¬ í´ë˜ìŠ¤ë¥¼ í•œ ë²ˆ ì‘ì„±í•´ë‘ë©´ ì—¬ëŸ¬ ë˜í¼ í´ë˜ìŠ¤ì—ì„œ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì¥ê¸°ì ìœ¼ë¡œëŠ”
íš¨ìœ¨ì ì„ì„ ê¹¨ë‹¬ìŒ. ë˜í•œ IDEì˜ ì½”ë“œ ìƒì„± ê¸°ëŠ¥ì„ í™œìš©í•˜ë©´ ì‰½ê²Œ ì‘ì„±í•  ìˆ˜ ìˆìŒ

---

### ğŸ’­ ëŠë‚€ ì 

ğŸ’¡ ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì—ì„œ ë‹¨ìˆœíˆ ì½”ë“œ ì¬ì‚¬ìš©ì„ ìœ„í•´ ìƒì†ì„ ë‚¨ìš©í•˜ëŠ” ê²ƒì´ ì–¼ë§ˆë‚˜ ìœ„í—˜í•œì§€ ì´í•´í•˜ê²Œ ë˜ì—ˆë‹¤.

ğŸ’¡ ì»´í¬ì§€ì…˜ê³¼ ë˜í¼ í´ë˜ìŠ¤ë¥¼ í™œìš©í•˜ë©´ ëŸ°íƒ€ì„ì— ë™ì‘ì„ ë³€ê²½í•  ìˆ˜ ìˆì–´ í›¨ì”¬ ìœ ì—°í•œ ì„¤ê³„ê°€ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì ì´ ì¸ìƒì ì´ì—ˆë‹¤.

ğŸ’¡ "ìƒì†ë³´ë‹¤ ì»´í¬ì§€ì…˜"ì´ë¼ëŠ” ì›ì¹™ì€ ë‹¨ìˆœí•œ ì§€ì¹¨ì´ ì•„ë‹ˆë¼ ì‹¤ì œ ì½”ë“œì˜ ì•ˆì •ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì— í° ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ì¤‘ìš”í•œ ì„¤ê³„ ì›ì¹™ì„ì„ ê¹¨ë‹¬ì•˜ë‹¤.
