# ğŸ“˜ ì´í™í‹°ë¸Œ ìë°” ìŠ¤í„°ë””

## ğŸ“ ì•„ì´í…œ 53: ê°€ë³€ì¸ìˆ˜ëŠ” ì‹ ì¤‘íˆ ì‚¬ìš©í•˜ë¼

### ğŸ”¹ í•µì‹¬ ìš”ì•½

âœ… ê°€ë³€ì¸ìˆ˜(varargs)ëŠ” ë©”ì„œë“œì— ê°€ë³€ ê°œìˆ˜ì˜ ì¸ìë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆëŠ” í¸ë¦¬í•œ ê¸°ëŠ¥  
âœ… ë‚´ë¶€ì ìœ¼ë¡œ ë°°ì—´ì„ ìƒì„±í•˜ë¯€ë¡œ ì„±ëŠ¥ìƒ ì´ìŠˆê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ  
âœ… ë¹ˆ ë°°ì—´ì´ë‚˜ nullì´ ë“¤ì–´ì˜¬ ìˆ˜ ìˆëŠ” ìƒí™©ì„ ì£¼ì˜í•´ì•¼ í•¨  
âœ… ê°€ë³€ì¸ìˆ˜ì™€ ì œë„¤ë¦­ì„ í•¨ê»˜ ì‚¬ìš©í•  ë•Œ ì£¼ì˜ê°€ í•„ìš”í•¨

---

### ğŸ“š í•„ìˆ˜ ê°œë… ì •ë¦¬

#### ğŸ’¡ **ê°€ë³€ì¸ìˆ˜(Varargs)**

- Java 5ë¶€í„° ë„ì…ëœ ê¸°ëŠ¥ìœ¼ë¡œ ë©”ì„œë“œì— ì—¬ëŸ¬ ê°œì˜ ì¸ìë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆê²Œ í•¨
- ê°€ë³€ì¸ìˆ˜ëŠ” ë©”ì„œë“œ ì„ ì–¸ ì‹œ íƒ€ì… ë’¤ì— `...`ì„ ë¶™ì—¬ ì„ ì–¸
- ë‚´ë¶€ì ìœ¼ë¡œëŠ” ë°°ì—´ë¡œ ì²˜ë¦¬ë¨
- ë©”ì„œë“œ ë§¤ê°œë³€ìˆ˜ ì¤‘ ê°€ì¥ ë§ˆì§€ë§‰ì— ìœ„ì¹˜í•´ì•¼ í•¨

```java
public void printNumbers(int... numbers) {
    for (int number : numbers) {
        System.out.print(number + " ");
    }
    System.out.println();
}

// í˜¸ì¶œ ë°©ë²•
printNumbers(1, 2, 3);       // ì—¬ëŸ¬ ì¸ì ì „ë‹¬
printNumbers();              // ì¸ì ì—†ì´ë„ í˜¸ì¶œ ê°€ëŠ¥
printNumbers(new int[]{4, 5, 6});  // ë°°ì—´ë¡œë„ ì „ë‹¬ ê°€ëŠ¥
```

#### ğŸ’¡ **ê°€ë³€ì¸ìˆ˜ ë™ì‘ ë°©ì‹**

- ì»´íŒŒì¼ëŸ¬ëŠ” ê°€ë³€ì¸ìˆ˜ë¥¼ ë°°ì—´ë¡œ ë³€í™˜í•˜ì—¬ ì²˜ë¦¬
- ë©”ì„œë“œê°€ í˜¸ì¶œë  ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ ë°°ì—´ ìƒì„±
- ìœ„ ì˜ˆì‹œì˜ `printNumbers(1, 2, 3)`ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ `new int[]{1, 2, 3}`ìœ¼ë¡œ ë³€í™˜ë¨

---

### ğŸš¨ ê°€ë³€ì¸ìˆ˜ì˜ ë¬¸ì œì 

#### ğŸ“¦ **ì„±ëŠ¥ ì´ìŠˆ**

```java
public class PerformanceTest {
    /**
     * ê°€ë³€ì¸ìˆ˜ë¥¼ ì‚¬ìš©í•œ ë©”ì„œë“œ - ë§¤ í˜¸ì¶œë§ˆë‹¤ ë°°ì—´ ìƒì„±
     */
    public static int sum(int... numbers) {
        int sum = 0;
        for (int num : numbers) {
            sum += num;
        }
        return sum;
    }

    public static void main(String[] args) {
        // ë§¤ í˜¸ì¶œë§ˆë‹¤ ìƒˆ ë°°ì—´ ìƒì„± (ë©”ëª¨ë¦¬ ì˜¤ë²„í—¤ë“œ)
        for (int i = 0; i < 1000; i++) {
            sum(1, 2, 3, 4, 5);  // ë§¤ë²ˆ ê¸¸ì´ 5ì˜ ë°°ì—´ ìƒì„±
        }
    }
}
```

ğŸ‘‰ ê°€ë³€ì¸ìˆ˜ ë©”ì„œë“œëŠ” í˜¸ì¶œë  ë•Œë§ˆë‹¤ ë°°ì—´ì„ ìƒˆë¡œ í• ë‹¹í•˜ê³  ì´ˆê¸°í™”í•˜ë¯€ë¡œ, ì„±ëŠ¥ì— ë¯¼ê°í•œ ìƒí™©ì—ì„œëŠ” ì£¼ì˜ í•„ìš”

ğŸ¤” **ê³ ì • ë§¤ê°œë³€ìˆ˜ë„ ê°™ì€ í¬ê¸°ì˜ ë©”ëª¨ë¦¬ë¥¼ ì“°ëŠ”ë°, ì™œ ë°°ì—´ë§Œ ë¬¸ì œê°€ ë ê¹Œ?**

- **í™ ë©”ëª¨ë¦¬ í• ë‹¹**: ê°€ë³€ì¸ìˆ˜ëŠ” ë§¤ í˜¸ì¶œë§ˆë‹¤ í™ì— ìƒˆ ë°°ì—´ ê°ì²´ ìƒì„±
- **ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ ë¶€ë‹´**: ì„ì‹œ ë°°ì—´ì€ ë©”ì„œë“œ ì¢…ë£Œ í›„ ë°°ì—´ì€ ì¦‰ì‹œ ê°€ë¹„ì§€ê°€ ë˜ì–´ GCì— ë¶€ë‹´
- **ê°ì²´ ìƒì„± ì˜¤ë²„í—¤ë“œ**: ìƒì„±ë˜ëŠ” ë°°ì—´ ê°ì²´ëŠ” ë‹¨ìˆœí•œ ë°ì´í„° ì €ì¥ ì™¸ì—ë„ ê°ì²´ í—¤ë”ë¥¼ í¬í•¨ (í´ë˜ìŠ¤ ë©”íƒ€ë°ì´í„° í¬ì¸í„°, í•´ì‹œì½”ë“œ, ë™ê¸°í™” ì •ë³´ ë“±)
- **ë©”ëª¨ë¦¬ ë‹¨í¸í™”**: ë¹ˆë²ˆí•œ ë°°ì—´ í• ë‹¹/í•´ì œëŠ” í™ ë©”ëª¨ë¦¬ ë‹¨í¸í™” ìœ ë°œ
- **CPU ìºì‹œ íš¨ìœ¨ ì €í•˜**: ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ ë©”ëª¨ë¦¬ ì ‘ê·¼ íŒ¨í„´ìœ¼ë¡œ ìºì‹œ íš¨ìœ¨ì„± ê°ì†Œ

#### ğŸ›¡ï¸ **ì•ˆì „ì„± ì´ìŠˆ**

```java
public class SafetyIssue {
    /**
     * ë°°ì—´ì˜ ìµœì†Ÿê°’ì„ ì°¾ëŠ” ë©”ì„œë“œ
     * @param values ì •ìˆ˜ ë°°ì—´
     * @return ë°°ì—´ì˜ ìµœì†Ÿê°’
     * @throws IllegalArgumentException ë°°ì—´ì´ ë¹„ì–´ìˆì„ ê²½ìš°
     */
    public static int min(int... values) {
        if (values.length == 0) {
            throw new IllegalArgumentException("ì¸ìê°€ 1ê°œ ì´ìƒ í•„ìš”í•©ë‹ˆë‹¤");
        }

        int min = values[0];
        for (int i = 1; i < values.length; i++) {
            if (values[i] < min) {
                min = values[i];
            }
        }
        return min;
    }

    public static void main(String[] args) {
        min();  // ì‹¤í–‰ ì‹œ ì˜ˆì™¸ ë°œìƒ: IllegalArgumentException
    }
}
```

ğŸ‘‰ ê°€ë³€ì¸ìˆ˜ëŠ” ì¸ìê°€ ì—†ì–´ë„ ë©”ì„œë“œ í˜¸ì¶œì´ ê°€ëŠ¥í•˜ë¯€ë¡œ, ë¹ˆ ë°°ì—´ì— ëŒ€í•œ ì²˜ë¦¬ í•„ìš”

#### ğŸ§© **ì œë„¤ë¦­ê³¼ ê°€ë³€ì¸ìˆ˜ì˜ ì¡°í•©**

```java
public class GenericVarargs {
    /**
     * ì œë„¤ë¦­ íƒ€ì…ì˜ ê°€ë³€ì¸ìˆ˜ë¥¼ ì‚¬ìš©í•œ ë©”ì„œë“œ
     * @param elements ê°€ë³€ ê°œìˆ˜ì˜ ì œë„¤ë¦­ ìš”ì†Œ
     * @return ì…ë ¥ ìš”ì†Œë¥¼ í¬í•¨í•˜ëŠ” ë¦¬ìŠ¤íŠ¸
     */
    @SafeVarargs  // ê²½ê³  ì–µì œ ì• ë„ˆí…Œì´ì…˜
    public static <T> List<T> asList(T... elements) {
        // ì œë„¤ë¦­ì€ ì§ì ‘ ë°°ì—´(new T[])ì„ ë§Œë“¤ ìˆ˜ ì—†ìŒ
        // í•˜ì§€ë§Œ ê°€ë³€ì¸ìˆ˜ëŠ” í˜¸ì¶œ ì‹œì ì— ì»´íŒŒì¼ëŸ¬ê°€ ì‹¤ì²´í™”ëœ ë°°ì—´ (ì˜ˆ: String[])ì„ ìƒì„±í•´ ì „ë‹¬í•˜ë¯€ë¡œ ì‚¬ìš© ê°€ëŠ¥
        List<T> result = new ArrayList<>();
        for (T element : elements) {
            result.add(element);
        }
        return result;
    }

    public static void main(String[] args) {
        // ì œë„¤ë¦­ ê°€ë³€ì¸ìˆ˜ ì‚¬ìš©
        List<String> list = asList("ê°€", "ë‚˜", "ë‹¤");
        System.out.println(list);  // [ê°€, ë‚˜, ë‹¤]
    }
}
```

âš ï¸ ì œë„¤ë¦­ ë°°ì—´ ìƒì„± ë¶ˆê°€ ë¬¸ì œ: ì‹¤ì²´í™” ë¶ˆê°€ íƒ€ì…ìœ¼ë¡œ ë°°ì—´ì„ ë§Œë“¤ ìˆ˜ ì—†ëŠ”ë°, ê°€ë³€ì¸ìˆ˜ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ë°°ì—´ ìƒì„±  
âš ï¸ ì»´íŒŒì¼ëŸ¬ ê²½ê³  ë°œìƒ: íƒ€ì… ì•ˆì „ì„±ì„ ë³´ì¥í•  ìˆ˜ ì—†ì–´ ê²½ê³  ë°œìƒ, `@SafeVarargs`ë¡œ ì–µì œ ê°€ëŠ¥

---

### ğŸ§ª í•´ê²°ì±…

#### ğŸ› ï¸ **ì„±ëŠ¥ ìµœì í™”: ì˜¤ë²„ë¡œë”© í™œìš©í•˜ê¸°**

ìì£¼ ì‚¬ìš©ë˜ëŠ” ì¸ì ê°œìˆ˜ì— ëŒ€í•´ ë³„ë„ ë©”ì„œë“œë¥¼ ì œê³µí•˜ê³ , ë‚˜ë¨¸ì§€ ê²½ìš°ë§Œ ê°€ë³€ì¸ìˆ˜ ë©”ì„œë“œë¡œ ì²˜ë¦¬

```java
public class OptimizedVarargs {
    // 0ê°œ, 1ê°œ, 2ê°œ ì¸ìì— ëŒ€í•œ íŠ¹ë³„ ë©”ì„œë“œ
    public static int sum() {
        return 0;
    }

    public static int sum(int a) {
        return a;
    }

    public static int sum(int a, int b) {
        return a + b;
    }

    // 3ê°œ ì´ìƒì˜ ì¸ìëŠ” ê°€ë³€ì¸ìˆ˜ë¡œ ì²˜ë¦¬
    public static int sum(int a, int b, int c, int... rest) {
        int result = a + b + c;
        for (int i : rest) {
            result += i;
        }
        return result;
    }

    public static void main(String[] args) {
        System.out.println(sum());         // ë°°ì—´ ìƒì„± ì—†ìŒ
        System.out.println(sum(1));        // ë°°ì—´ ìƒì„± ì—†ìŒ
        System.out.println(sum(1, 2));     // ë°°ì—´ ìƒì„± ì—†ìŒ
        System.out.println(sum(1, 2, 3));  // ë¹ˆ ë°°ì—´ ìƒì„±
        System.out.println(sum(1, 2, 3, 4, 5));  // ê¸¸ì´ 2 ë°°ì—´ ìƒì„±
    }
}
```

ğŸ‘‰ ìì£¼ ì‚¬ìš©ë˜ëŠ” ì¼€ì´ìŠ¤ì— ëŒ€í•´ì„œëŠ” ë°°ì—´ ìƒì„± ë¹„ìš© ì ˆì•½

#### ğŸ”’ **ì•ˆì „í•œ ê°€ë³€ì¸ìˆ˜ ì„¤ê³„**

```java
public class SafeVarargs {
    /**
     * ìµœì†Ÿê°’ì„ ì°¾ëŠ” ë©”ì„œë“œì˜ ì•ˆì „í•œ êµ¬í˜„
     * @param first ì²« ë²ˆì§¸ ê°’ (í•„ìˆ˜)
     * @param rest ë‚˜ë¨¸ì§€ ê°’ë“¤ (ì„ íƒ)
     * @return ìµœì†Ÿê°’
     */
    public static int min(int first, int... rest) {
        int min = first;
        for (int i : rest) {
            if (i < min) {
                min = i;
            }
        }
        return min;
    }

    public static void main(String[] args) {
        System.out.println(min(10));  // OK: 10
        System.out.println(min(3, 1, 4, 1, 5));  // OK: 1
        // min();  // ì»´íŒŒì¼ ì—ëŸ¬: ìµœì†Œ í•˜ë‚˜ì˜ ì¸ì í•„ìš”
    }
}
```

ğŸ‘‰ í•„ìˆ˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ë³„ë„ë¡œ ë¶„ë¦¬í•˜ì—¬ ë¹ˆ ì¸ì ë¬¸ì œ í•´ê²°

#### ğŸ›¡ï¸ **ì œë„¤ë¦­ ê°€ë³€ì¸ìˆ˜ ì•ˆì „í•˜ê²Œ ì‚¬ìš©í•˜ê¸°**

```java
public class SafeGenericVarargs {
    /**
     * ì•ˆì „í•œ ì œë„¤ë¦­ ê°€ë³€ì¸ìˆ˜ ë©”ì„œë“œ
     * @param elements ìš”ì†Œë“¤
     * @return ìš”ì†Œë“¤ì„ í¬í•¨í•˜ëŠ” ë¶ˆë³€ ë¦¬ìŠ¤íŠ¸
     */
    @SafeVarargs  // íƒ€ì… ì•ˆì „ì„± ë³´ì¥
    public static <T> List<T> of(T... elements) {
        // ê°€ë³€ì¸ìˆ˜ ë°°ì—´ì˜ ì°¸ì¡°ë¥¼ ì™¸ë¶€ë¡œ ë…¸ì¶œí•˜ì§€ ì•ŠìŒ
        return Collections.unmodifiableList(Arrays.asList(elements));
    }

    // ì•ˆì „í•˜ì§€ ì•Šì€ ì˜ˆ: ê°€ë³€ì¸ìˆ˜ë¡œ ìƒì„±ëœ ë°°ì—´ì„ ë…¸ì¶œ
    // public static <T> T[] toArray(T... elements) {
    //     return elements;  // ìœ„í—˜! ê°€ë³€ì¸ìˆ˜ ë°°ì—´ì„ ê·¸ëŒ€ë¡œ ë°˜í™˜
    // }

    public static void main(String[] args) {
        List<String> list = of("ì•ˆì „í•œ", "ì œë„¤ë¦­", "ê°€ë³€ì¸ìˆ˜");
        System.out.println(list);  // [ì•ˆì „í•œ, ì œë„¤ë¦­, ê°€ë³€ì¸ìˆ˜]
    }
}
```

ğŸ‘‰ ì œë„¤ë¦­ ê°€ë³€ì¸ìˆ˜ ì‚¬ìš© ì‹œ ì•ˆì „í•œ ë°©ë²•:

1. ê°€ë³€ì¸ìˆ˜ ë°°ì—´ì— ì•„ë¬´ê²ƒë„ ì €ì¥í•˜ì§€ ì•Šê¸°
2. ë°°ì—´ì˜ ì°¸ì¡°ë¥¼ ì™¸ë¶€ë¡œ ë…¸ì¶œí•˜ì§€ ì•Šê¸°
3. @SafeVarargs ì• ë„ˆí…Œì´ì…˜ìœ¼ë¡œ ì˜ë„ ëª…ì‹œí•˜ê¸°

---

### ğŸ“‹ ê°€ë³€ì¸ìˆ˜ í™œìš© ì˜ˆì‹œ

#### ğŸ“ **ë¬¸ìì—´ ì—°ê²°**

```java
public class StringJoiner {
    /**
     * ì—¬ëŸ¬ ë¬¸ìì—´ì„ ì§€ì •ëœ êµ¬ë¶„ìë¡œ ì—°ê²°
     * @param delimiter êµ¬ë¶„ì
     * @param strings ì—°ê²°í•  ë¬¸ìì—´ë“¤
     * @return ì—°ê²°ëœ ë¬¸ìì—´
     */
    public static String join(String delimiter, String... strings) {
        if (strings.length == 0) {
            return "";
        }

        StringBuilder result = new StringBuilder(strings[0]);
        for (int i = 1; i < strings.length; i++) {
            result.append(delimiter).append(strings[i]);
        }
        return result.toString();
    }

    public static void main(String[] args) {
        System.out.println(join(", ", "ì‚¬ê³¼", "ë°”ë‚˜ë‚˜", "ì˜¤ë Œì§€"));
        // ì¶œë ¥: ì‚¬ê³¼, ë°”ë‚˜ë‚˜, ì˜¤ë Œì§€

        System.out.println(join(" - ", "Java", "Spring", "JPA"));
        // ì¶œë ¥: Java - Spring - JPA
    }
}
```

---

### ğŸ¯ ê²°ë¡ 

ğŸ“ ê°€ë³€ì¸ìˆ˜ëŠ” ë©”ì„œë“œì— ê°€ë³€ ê°œìˆ˜ì˜ ì¸ìë¥¼ ì „ë‹¬í•  ë•Œ ìœ ìš©í•˜ì§€ë§Œ, ì„±ëŠ¥ê³¼ ì•ˆì „ì„± ë¬¸ì œì— ì£¼ì˜í•´ì•¼ í•¨

ğŸ“ ë§¤ë²ˆ í˜¸ì¶œë§ˆë‹¤ ë°°ì—´ì´ ìƒì„±ë˜ë¯€ë¡œ ì„±ëŠ¥ì— ë¯¼ê°í•œ ìƒí™©ì—ì„œëŠ” ì˜¤ë²„ë¡œë”©ì„ í†µí•´ ìµœì í™”

ğŸ“ ë¹ˆ ë°°ì—´ì´ ìƒì„±ë  ìˆ˜ ìˆëŠ” ìƒí™©ì„ ê³ ë ¤í•˜ì—¬ ë°©ì–´ì ìœ¼ë¡œ ì½”ë”©

ğŸ“ ì •ë§ í•„ìš”í•œ ìƒí™©ì—ì„œë§Œ ê°€ë³€ì¸ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê³ , ë‚¨ìš©í•˜ì§€ ë§ ê²ƒ

âœ¨ "ê°€ë³€ì¸ìˆ˜ëŠ” í¸ë¦¬í•˜ì§€ë§Œ, ì–¸ì œë‚˜ ì‹ ì¤‘í•˜ê²Œ!" ì´ ì•„ì´í…œì˜ í•µì‹¬ì´ë‹¤.

---

### ğŸ’­ ëŠë‚€ ì 

ğŸ’¡ ê°€ë³€ì¸ìˆ˜ëŠ” ì •ë§ í¸ë¦¬í•˜ì§€ë§Œ, ë‚´ë¶€ì ìœ¼ë¡œ ë°°ì—´ì´ ìƒì„±ëœë‹¤ëŠ” ì‚¬ì‹¤ì„ í•­ìƒ ì—¼ë‘ì— ë‘ê³  ì„±ëŠ¥ì— ë¯¼ê°í•œ ìƒí™©ì—ì„œëŠ” ì£¼ì˜í•´ì„œ ì‚¬ìš©í•´ì•¼ í•¨ì„ ì´í•´

ğŸ’¡ ìì£¼ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œì—ì„œ ê°€ë³€ì¸ìˆ˜ë¥¼ ì‚¬ìš©í•  ê²½ìš°, ìˆ˜ë§ì€ ë°°ì—´ì´ ìƒì„±ë˜ì–´ ì„±ëŠ¥ ì €í•˜ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ì ì´ ì¸ìƒì 

ğŸ’¡ ìë°”ì˜ íƒ€ì… ì‹œìŠ¤í…œê³¼ ê°€ë³€ì¸ìˆ˜ì˜ ë‚´ë¶€ ë™ì‘ì„ ì œëŒ€ë¡œ ì´í•´í•˜ëŠ” ê²ƒì´ ì„±ëŠ¥ ìµœì í™”ì— ìˆì–´ ì¤‘ìš”í•¨ì„ ëŠë‚Œ
